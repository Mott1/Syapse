{# Inherits variables from pages/_router: #}
{# @articles - the articles to output #}
{% set thumbnailUrl = 'http://via.placeholder.com/180x200' %}

<div class="article-list">

    {% if articles.count() %}

        {% for article in articles %}

            <div class="article-item {% if loop.index == 1 %}isFirst{% endif %}">

                <div class="image" style="background-image: url('{{ thumbnailUrl }}');"></div>

                <div class="info">

                    <h3 class="heading">{{ article.title }}</h3>

                    {% if article.author | length %}
                        <p class="author">By {{ article.author | default('') }}</p>
                    {% endif %}
                    
                    <p class="description">
                        {{ article.body | striptags | slice(0, 100) | trim  ~ '...' }}
                    </p>

                    <a class="link" href="{{ article.url }}">Read</a>

                </div>

            </div>

        {% endfor %}

    {% else %}
        
        <p>No articles available</p>

    {% endif %}

</div>
